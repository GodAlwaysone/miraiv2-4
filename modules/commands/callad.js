module.exports.config={name:"callad",version:"1.0.0",hasPermssion:0,credits:"NTKhang, ManhG Fix Get",description:"thông báo lỗi của bot đến admin hoặc góp ý",commandCategory:"group",usages:"[lỗi gặp phải hoặc ý kiến]",cooldowns:5},module.exports.handleReply=async function({api:e,args:n,event:a,Users:s,handleReply:o}){var t=await s.getNameUser(a.senderID);switch(o.type){case"reply":var i=global.config.ADMINBOT;for(let n of i)e.sendMessage({body:"📩Phản hồi từ "+t+":\n"+a.body,mentions:[{id:a.senderID,tag:t}]},n,((e,n)=>global.client.handleReply.push({name:this.config.name,messageID:n.messageID,messID:a.messageID,author:a.senderID,id:a.threadID,type:"calladmin"})));break;case"calladmin":e.sendMessage({body:`📩Phản hồi từ admin đến bạn:\n\n${a.body}\n\n»💬Phản hồi tin nhắn này để tiếp tục gửi báo cáo về admin`,mentions:[{tag:t,id:a.senderID}]},o.id,((e,n)=>global.client.handleReply.push({name:this.config.name,author:a.senderID,messageID:n.messageID,type:"reply"})),o.messID)}},module.exports.run=async function({api:e,event:n,args:a,Users:s,Threads:o}){var{threadID:t,messageID:i,body:d,senderID:r}=n;if(!a[0])return e.sendMessage("Bạn chưa nhập nội dung cần báo cáo",n.threadID,n.messageID);const g=await global.data.threadInfo.get(n.threadID).threadName||"Tên không tồn tại";let l=await s.getNameUser(n.senderID);var m=n.senderID,h=n.threadID;var c=require("moment-timezone").tz("Asia/Ho_Chi_Minh").format("HH:mm:ss D/MM/YYYY");e.sendMessage(`Vào lúc: ${c} \nĐã gửi báo cáo của bạn đến các admin bot`,n.threadID,(()=>{var s=global.config.ADMINBOT;for(let o of s)e.sendMessage(`👤Báo cáo từ: ${l}\n👨‍👩‍👧‍👧Box: ${g}\n🔰ID box: ${h}\n😜ID Use: ${m}\n\n🤷‍♀️Nội dung: ${a.join(" ")}\n\nTime: ${c}`,o,((e,a)=>global.client.handleReply.push({name:this.config.name,messageID:a.messageID,author:n.senderID,messID:n.messageID,id:h,type:"calladmin"})))}))};
